<!--
  Generated template for the CalculatorPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-title>Recipe Calculator</ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="food">
      <ion-segment-button value="ingredients">
        Ingredients
      </ion-segment-button>
      <ion-segment-button value="recipes">
        Recipes
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content>
  <div [ngSwitch]="food">
    <ion-list *ngSwitchCase="'ingredients'">
      <ion-searchbar (ionInput)="getIngredients($event)"></ion-searchbar>
      <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
          pullingIcon="arrow-dropdown"
          pullingText="Pull to refresh"
          refreshingSpinner="circles"
          refreshingText="Refreshing...">
        </ion-refresher-content>
      </ion-refresher>
      <ion-item-sliding *ngFor="let ingredient of ingItems">
        <button ion-item (click)="viewIngredient(ingredient)">
            {{ingredient.ingredient}}
        </button>
        <ion-item-options side="left">
          <button ion-button color="primary" (click)="updateIngredient(ingredient)" round>
            <ion-icon name="sync"></ion-icon>
            Update
          </button>
          <button ion-button color="danger" (click)="deleteIngredient(ingredient)" round>
            <ion-icon name="trash"></ion-icon>
            Delete
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
    <ion-list *ngSwitchCase="'recipes'">
      <ion-searchbar (ionInput)="getRecipes($event)"></ion-searchbar>
      <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
          pullingIcon="arrow-dropdown"
          pullingText="Pull to refresh"
          refreshingSpinner="circles"
          refreshingText="Refreshing...">
        </ion-refresher-content>
      </ion-refresher>
      <ion-item-sliding *ngFor="let recipe of recItems">
        <button ion-item (click)="viewRecipe(recipe)">
            {{recipe.recipe}}
        </button>
        <ion-item-options side="left">
          <button ion-button color="primary" (click)="updateRecipe(recipe)" round>
            <ion-icon name="sync"></ion-icon>
            Update
          </button>
          <button ion-button color="danger" (click)="deleteRecipe(recipe)" round>
            <ion-icon name="trash"></ion-icon>
            Delete
          </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </div>
  <ion-fab bottom right>
    <button ion-fab mini outline color="primary"><ion-icon name="add"></ion-icon></button>
    <ion-fab-list side="left">
      <button ion-button small (click)="pushAddIngredientPage()">Ingredient<ion-icon name="nutrition"></ion-icon></button>
      <button ion-button small (click)="pushAddRecipePage()">Recipe<ion-icon name="basket"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
  
</ion-content>
